# 애너테이션(annotation)

## 애너테이션
프로그램의 소스코드 안에 다른 프로그램을 위한 정보를 미리 약속된 형식으로 포함시킨 것이 바로 애너테이션이다.
- 애너테이션은 주석(comment)처럼 프로그래밍 언어에 영향을 미치지 않으면서도 다른 프로그램에게 유용한 정보를 제공할 수 있다는 장점이 있다.
- 애너테이션은 JDK에서 기본적으로 제공하는 것과 다른 프로그램에서 제공하는 것들이 있는데, 어느 것이든 그저 약속된 형식으로 정보를 제공하기만 하면 된다.
- JDK에서 제공하는 표준 애너테이션은 주로 컴파일러를 위한 것으로 컴파일러에게 유용한 정보를 제공한다.

### 참고할만한 애너테이션들

#### **@Deprecated**
더 이상 사용되지 않는 필드나 메서드에 붙이는 것이다.
- 이 애너테이션이 붙은 대상은 다른 것으로 대체되었으니 더 이상 사용하지 않는 것을 권한다는 뜻이다.
- 강제성은 없어서 사용하더라도 오류가 나진 않는다. 

#### **@FunctionalInterface**
'함수형 인터페이스(functional interface)'를 선언할 때, 이 애너테이션을 붙이면 컴파일러가 '함수형 인터페이스'를 올바르게 선언했는지 확인하고, 잘못된 경우 에러를 발생시킨다.

#### **@SuppressWarnings**
컴파일러가 보여주는 경고메시지가 나타나지 않게 억제해준다.
- 경우에 따라 경고가 발생할 것을 알면서도 묵인해야 할 때가 있는데 이럴때 사용하도록 하자.

#### **@SafeVarags**
메서드에 선언된 가변인자의 타입이 non-reifiable타입일 경우, 해당 메서드를 선언하는 부분과 호출하는 부분에서 "unchecked"경고가 발생한다.
- 해당코드에 문제가 없다면 이 경고를 억제하기 위해서 '@SafeVarags'를 사용하도록 하자.
- 이 애너테이션은 static이나 final이 붙은 메서드와 생성자에만 붙일 수 있다.
- 즉, 오버라이드 될 수 있는 메서드에는 사용할 수 없다.
> 컴파일 후에도 제거되지 않는 타입을 reifiable타입이라고하고, 제거되는 타입을 non-reifiable타입이라고 한다.
(참고로 지네릭 타입들은 대부분 컴파일 시에 제거되므로 non-reifiable타입이다.)

## 메타 애너테이션
메타 애너테이션은 '애너테이션을 위한 애너테이션'이다.
- 애너테이션에 붙이는 애너테이션으로 애너테이션을 정의할 때 애너테이션의 적용대상(target)이나 유지기간(retention)등을 정의하는데 사용된다.

## 애너테이션 타입 정의하기
애너테이션을 직접 정의하는 방법
```java
    @interface 애너테이션이름{
        타입요소이름(); //애너테이션의 요소를 정한다.
        ...
    }
```
- @를 붙이는 것만 제외하면 인터페이스를 정의하는 것과 같다.

### **애너테이션의 요소**
애너테이션 내에 선언된 메서드를 '애너테이션의 요소(element)'라고 한다.
- 애너테이션의 요소는 반환값이 있고 매개변수는 추상 메서드 형태를 가지며, 상속을 통해 구현하지 않아도 된다.
- 대신, 애너테이션을 적용할 때 이 요소들의 값을 빠짐없이 지정해주어야한다.

애너테이션의 각 요소는 기본값을 가질 수 있으며, 기본값이 있는 요소는 애너테이션을 적용할 때 값을 지정하지 않으면 기본값이 사용된다.
```java
    @interface TestInfo{
        int count() default 1; //기본값을 1로 지정하였다.
    }
```

### **마커 애너테이션 Marker Annotation**
값을 지정할 필요가 없는 경우, 애너테이션의 요소를 하나도 정의하지 않을 수 있다.
- Serializable이나 Cloneable인터페이스처럼, 요소가 하나도 정의되지 않은 애너테이션을 마커 애너테이션이라고 한다.

### **애너테이션 요소의 규칙**
애너테이션의 요소를 선언할 때 반드시 지켜야하는 규칙
- 요소의 타입은 기본형, String, enum, 애너테이션, Class만 허용된다.
- ()안에 매개변수를 선언할 수 없다.
- 예외를 선언할 수 없다.
- 요소를 타입 매개변수로 정의할 수 없다.