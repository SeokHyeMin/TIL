## 연관관계 매핑
- 방향(Direct) : 단방향, 양방향
- 다중성(Multiplicity) : 다대일(N:1), 일대다(1:N), 일대일(1:1), 다대다(N:M) 
- 연관관계 주인(Owner) : 객체 양방향 연관관계는 주인이 필요하다.

- 객체를 테이블에 맞추어 모델링하면, 외래 키 식별자를 직접 다루게 되고, 식별자로 조회하는 등 객체 지향적인 방법이 아니게 된다.
- 객체를 테이블에 맞추어 데이터 중심으로 모델링하면, 협력 관계를 만들 수 없다.
    - 테이블은 외래 키로 조인을 사용해서 연관된 테이블을 찾는다.
    - 하지만 객체는 참조를 사용해서 연관된 객체를 찾는다.
    - 테이블과 객체 사이에 이러한 큰 간격이 있다.

### 📌 객체 연관관계를 사용하여 객체 지향 모델링을 할 수 있다.

- 객체의 참조와 테이블의 외래키를 매핑한다.

### 양방향 연관관계와 연관관계의 주인
- **객체의 양방향 연관관계는 서로 다른 단방향 연관관계가 2개 있는 것**이라고 볼 수 있다.
- 객체를 양방향으로 참조하려면 단방향 연관관계를 2개 만들어야 하는 것이다.
- **테이블**은 외래 키 하나로 두 테이블의 연관관계를 관리한다.
- 양방향 매핑시 연관관계의 주인에 항상 값을 입력해야한다.(항상 양쪽 다 값을 입력하도록 하자)


### 📌 양방향 매핑 규칙
- 객체의 두 관계중 하나를 연관관계의 주인으로 지정해야한다.
- **연관관계의 주인만이 외래 키를 관리할 수 있다.(등록, 수정)**
- 주인이 아닌 쪽은 읽기만 가능하다.
- 주인은 mappedBy 속성을 사용하지 않으며, 주인이 아니면 mappedBy 속성으로 주인을 지정한다.
~~~java
    @OneToMany(mappedBy = "team") 
    List<Member> members = new ArrayList<Member>();
~~~

### 누구를 연관관계 주인으로 지정해야 할까?
- 답은 외래 키가 있는 곳을 주인으로 지정해야한다.
- 비즈니스 로직을 기준으로 연관관계의 주인을 선택하면 안된다!! 연관관계의 주인은 외래 키의 위치를 기준으로 선택해야한다.

### 📌 **핵심은 단방향 매핑으로 설계를 잘하는 것이 중요하다, 필요 시 양방향 매핑 연관관계를 추가하도록 하자.**
